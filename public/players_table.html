<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>NBA Bubble Final Project</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
    <link rel='stylesheet' href=styles.css>

   
    
</head>

    <body>
        <div class="tabs is-fullwidth">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="search.html">Search</a></li>
                <li><a href="favorites.html">Favorites</a></li>
                <li><a href="settings.html">Settings</a></li>
            </ul>
        </div>

        <div class="container">
            <h1>Player not here? Add them: </h1>
            <form action='/api/player' method='POST'>
                <ul class="flex-outer">
                    <li>
                        <label for="player_name">Player Name</label>
                        <input type="text" id="player_name" placeholder="Enter the player's name" name='player_name'>
                    </li>
                    <li>
                        <label for="ppg">PPG</label>
                        <input type="text" id="ppg" placeholder="Enter PPG" name='ppg'>
                    </li>
                    <li>
                        <label for="assists">Assists</label>
                        <input type="assists" id="assists" placeholder="Assists" name='assists'>
                    </li>
                    <li>
                        <label for="player_id">Add a Player Id</label>
                            <input type="text" id="player_id" placeholder="Enter a player id" name='player_id'>
                     </li>
                    <li>
                        <button type="submit" id='button' name='button'>Submit</button>
                    </li>
                </ul>
            </form>
        </div>

    
      <div style="background-image: url('image 4.png'); height: 1000px; margin:0 auto">

        <table id="gable" style="background-image: url('image 4.png')" class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">
            <colgroup>
                <col class="twenty" />
                <col class="fourty" />
                <col class="thirtyfive" />
                <col class="twentyfive" />
            </colgroup>
            <tr>
                <th ><span class="glyphicon glyphicon-sort"></span>Player ID</th>
                <th ><span class="glyphicon glyphicon-sort"></span>Player Name</th>
                <th ><span class="glyphicon glyphicon-sort"></span>Position ID</th>
                <th ><span class="glyphicon glyphicon-sort"></span>PPG</th>
                <th ><span class="glyphicon glyphicon-sort"></span>Assists</th>
                <th ><span class="glyphicon glyphicon-sort"></span>Team ID</th>
            </tr>
        </table>
       
        

    </div>
    <script>
        (async () => {
        const dat = await fetch('/api/player');
        const data = await dat.json();
        console.table(data.data);
        console.log(data);
    const table = document.getElementById('gable');

    data.data.forEach((object) => {
        var tr = document.createElement('tr');
        tr.innerHTML = '<td>' + object.player_id + '</td>' +
            '<td>' + object.player_name + '</td>' +
            '<td>' + object.position_id + '</td>' +
            '<td>' + object.ppg + '</td>' +
            '<td>' + object.assists + '</td>'+
            '<td>' + object.team_id + '</td>';;
        table.appendChild(tr);
    });

    })()
    
   
    </script>
</body>

</html>